{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useSearchParams,Link}from'react-router-dom';import{authAPI}from'../services/api.ts';import toast from'react-hot-toast';import LoadingSpinner from'../components/common/LoadingSpinner.tsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VerifyEmailPage=()=>{const[searchParams]=useSearchParams();const[loading,setLoading]=useState(true);const[verified,setVerified]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const verifyEmail=async()=>{const token=searchParams.get('token');if(!token){setError('No verification token found');setLoading(false);return;}try{const response=await authAPI.verifyEmail(token);if(response.success){setVerified(true);toast.success('Email verified successfully!');}else{setError(response.error||'Verification failed');toast.error(response.error||'Verification failed');}}catch(error){var _error$response,_error$response$data;const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Verification failed';setError(errorMessage);toast.error(errorMessage);}finally{setLoading(false);}};verifyEmail();},[searchParams]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-[#0f0f23] to-[#231651] flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white mt-4 text-lg font-semibold\",children:\"Verifying your email...\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-[#0f0f23] to-[#231651] flex items-center justify-center px-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md w-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#231651] rounded-2xl p-8 shadow-2xl border border-[#23223a]\",children:verified?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Email Verified!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:\"Your email has been successfully verified. You can now log in to your account and access all features.\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"inline-block bg-gradient-to-r from-neon-pink to-neon-blue text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity\",children:\"Go to Login\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white mb-4\",children:\"Verification Failed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-6\",children:error||'Something went wrong with the verification process.'}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"block bg-gradient-to-r from-neon-pink to-neon-blue text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity\",children:\"Go to Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"block bg-transparent border border-[#23223a] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#23223a] transition-colors\",children:\"Register Again\"})]})]})})})});};export default VerifyEmailPage;","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","Link","authAPI","toast","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","VerifyEmailPage","searchParams","loading","setLoading","verified","setVerified","error","setError","verifyEmail","token","get","response","success","_error$response","_error$response$data","errorMessage","data","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","to"],"sources":["/Users/tanishshah/Desktop/Fastpass/client/src/pages/VerifyEmailPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { authAPI } from '../services/api.ts';\nimport toast from 'react-hot-toast';\nimport LoadingSpinner from '../components/common/LoadingSpinner.tsx';\n\nconst VerifyEmailPage: React.FC = () => {\n  const [searchParams] = useSearchParams();\n  const [loading, setLoading] = useState(true);\n  const [verified, setVerified] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const verifyEmail = async () => {\n      const token = searchParams.get('token');\n      \n      if (!token) {\n        setError('No verification token found');\n        setLoading(false);\n        return;\n      }\n\n      try {\n        const response = await authAPI.verifyEmail(token);\n        if (response.success) {\n          setVerified(true);\n          toast.success('Email verified successfully!');\n        } else {\n          setError(response.error || 'Verification failed');\n          toast.error(response.error || 'Verification failed');\n        }\n      } catch (error: any) {\n        const errorMessage = error.response?.data?.error || 'Verification failed';\n        setError(errorMessage);\n        toast.error(errorMessage);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    verifyEmail();\n  }, [searchParams]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-[#0f0f23] to-[#231651] flex items-center justify-center\">\n        <div className=\"text-center\">\n          <LoadingSpinner />\n          <p className=\"text-white mt-4 text-lg font-semibold\">Verifying your email...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#0f0f23] to-[#231651] flex items-center justify-center px-4\">\n      <div className=\"max-w-md w-full\">\n        <div className=\"bg-[#231651] rounded-2xl p-8 shadow-2xl border border-[#23223a]\">\n          {verified ? (\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                </svg>\n              </div>\n              <h1 className=\"text-2xl font-bold text-white mb-4\">Email Verified!</h1>\n              <p className=\"text-gray-300 mb-6\">\n                Your email has been successfully verified. You can now log in to your account and access all features.\n              </p>\n              <Link\n                to=\"/login\"\n                className=\"inline-block bg-gradient-to-r from-neon-pink to-neon-blue text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity\"\n              >\n                Go to Login\n              </Link>\n            </div>\n          ) : (\n            <div className=\"text-center\">\n              <div className=\"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-6\">\n                <svg className=\"w-8 h-8 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </div>\n              <h1 className=\"text-2xl font-bold text-white mb-4\">Verification Failed</h1>\n              <p className=\"text-gray-300 mb-6\">\n                {error || 'Something went wrong with the verification process.'}\n              </p>\n              <div className=\"space-y-3\">\n                <Link\n                  to=\"/login\"\n                  className=\"block bg-gradient-to-r from-neon-pink to-neon-blue text-white font-bold py-3 px-6 rounded-lg hover:opacity-90 transition-opacity\"\n                >\n                  Go to Login\n                </Link>\n                <Link\n                  to=\"/register\"\n                  className=\"block bg-transparent border border-[#23223a] text-white font-bold py-3 px-6 rounded-lg hover:bg-[#23223a] transition-colors\"\n                >\n                  Register Again\n                </Link>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VerifyEmailPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}